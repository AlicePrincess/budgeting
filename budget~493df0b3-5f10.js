(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"../node_modules/reselect/lib/index.js":function(e,t,n){"use strict";function r(e,t){return e===t}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,a=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=0,l=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),u=e.apply(void 0,[function(){return i++,l.apply(null,arguments)}].concat(n)),s=a(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return u.apply(null,e)});return s.resultFunc=l,s.recomputations=function(){return i},s.resetRecomputations=function(){return i=0},s}}t.__esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var i=t.createSelector=o(a)},"./components/Balance/style.scss":function(e,t,n){e.exports={balanceRowContainer:"_3q5mW",balanceRow:"_3eF2Q",balanceWrapper:"jweKH",balanceSymbol:"_2iIP9",balanceItem:"_3S2Fs",balanceAmount:"sG1fB",neg:"_15b6X",pos:"_1yrus",balanceTitle:"zzvVw"}},"./components/BudgetGridRow/style.scss":function(e,t,n){e.exports={cellLabel:"Zf1nY",cellContent:"_3-t-g",neg:"MBPvA",pos:"_3XkHf"}},"./containers/Budget/index.js":function(e,t,n){"use strict";n.r(t);var r,a,o,i=n("../node_modules/react/index.js"),l=n("./modules/transactions.js"),c=n("./modules/categories.js"),u=n("./store/index.js"),s=n("../node_modules/react-redux/es/index.js"),f=n("./selectors/transactions.js"),p=n("./selectors/categories.js"),m=n("./utils/provideContextBroadcast.js"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var h,b,v=(a=r=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.call(r);var a=n.initialValues;if(a){var i=r.getInitialFormState(a);r.setFormState(i)}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getOtherProps=function(){var e=this.props;e.fields,e.validate,e.children,e.setBroadcastState,e.initialValues,e.onFormDataChange,e.onSubmit,e.onSubmitSuccess,e.onSubmitFail;return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fields","validate","children","setBroadcastState","initialValues","onFormDataChange","onSubmit","onSubmitSuccess","onSubmitFail"])},t.prototype.setFormState=function(e){var t=this.props.setBroadcastState;this.formState=e;var n=this.getFormData();t(n),this.props.onFormDataChange&&this.props.onFormDataChange(n)},t.prototype.blurAll=function(){var e=this.props.fields.reduce(function(e,t){return e[t]=!0,e},{});this.setFormState(d({},this.formState,{blurred:e}))},t.prototype.runValidator=function(){var e=this.props.validate,t=this.formState.values;return(e||function(){return{}})(t,this.getOtherProps())},t.prototype.render=function(){return i.createElement("form",d({onSubmit:this.submitForm},this.getOtherProps()),this.props.children)},t}(i.Component),r.defaultProps={initialValues:{}},o=function(){var e=this;this.getInitialFormState=function(t){var n=e.props.fields;return{values:n.reduce(function(e,n){var r=Object.keys(t).includes(n);return e[n]=r?t[n]:"",e},{}),blurred:n.reduce(function(e,t){return e[t]=!1,e},{})}},this.getFormData=function(){var t=e.props,n=t.fields,r=t.initialValues,a=e.formState,o=a.values,i=a.blurred,l=e.runValidator(),c=l._error||"",u=0===Object.keys(l).length;return{fields:n.reduce(function(t,n){return t[n]={name:n,value:o[n],initialValue:r?r[n]:void 0,blurred:i[n],error:l[n]||"",onBlur:function(){e.handleBlur(n)},onChange:function(t){e.handleChange(n,t)}},t},{}),error:c,valid:u,initializeForm:e.initializeForm,submitForm:e.submitForm}},this.handleBlur=function(t){var n;e.setFormState(d({},e.formState,{blurred:d({},e.formState.blurred,(n={},n[t]=!0,n))}))},this.handleChange=function(t,n){var r;e.setFormState(d({},e.formState,{values:d({},e.formState.values,(r={},r[t]=n,r))}))},this.initializeForm=function(t){var n=e.getInitialFormState(t);e.setFormState(n)},this.submitForm=function(t){var n=e.props,r=n.onSubmit,a=n.onSubmitSuccess,o=n.onSubmitFail,i=e.formState.values;t&&t.preventDefault();var l=e.runValidator(),c=0===Object.keys(l).length;e.blurAll(),c&&r?(r(i),a&&a()):o&&o()}},a),y=Object(m.a)("formData")(v),g=n("./utils/isObject.js"),E=n("./utils/consumeContextBroadcast.js"),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=(b=h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=j(this,e.call.apply(e,[this].concat(o))),r.getValue=function(e){if(!Object(g.a)(e))return e;var t=e.currentTarget;return t?"checkbox"==={target:t}?t.checked||"":t.value:e},r.getFieldData=function(){var e=r.props,t=e.name;return e.formData.fields[t]},r.handleChange=function(e){var t=r.getFieldData();if(t){var n=r.getValue(e);t.onChange(n)}},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.component,n=e.name,r=e.handleRef,a=(e.formData,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","name","handleRef","formData"])),o=this.getFieldData(),l={name:n,value:void 0!==o.value?o.value:"",onChange:this.handleChange,onBlur:o.onBlur,ref:r},c={blurred:o.blurred,error:o.error,initialValue:o.initialValue};return"string"==typeof t?i.createElement(t,w({},a,l)):t?i.createElement(t,w({},a,l,c)):null},t}(i.Component),h.defaultProps={component:"input",handleRef:null},b),O=Object(E.a)("formData")(S);function F(e){var t=e.name,n=e.value,r=e.data,a=e.onChange;return i.createElement("select",{name:t,value:n,onChange:a},Object.keys(r).map(function(e){return i.createElement("option",{key:e,value:e},r[e])}))}F.defaultProps={name:""};var C,_,x=n("./containers/EntryFormRow/style.scss"),R=n.n(x);function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=(_=C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=D(this,e.call.apply(e,[this].concat(o))),r.state={formData:null},r.addEntry=function(e){var t=e.categoryId,n=e.description,a=e.value;r.props.addTransaction({categoryId:t,description:n,value:a})},r.focusValueField=function(){r.valueRef&&r.valueRef.focus()},r.handleSubmitSuccess=function(){var e=r.state.formData;e&&e.initializeForm({categoryId:e.fields.categoryId.value}),r.focusValueField()},r.handleSubmitFail=function(){r.focusValueField()},r.handleValueRefUpdate=function(e){r.valueRef=e},r.handleFormDataChange=function(e){r.setState({formData:e})},D(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,n=e.categories,r={categoryId:e.defaultCategoryId},a=this.state.formData,o=a&&a.valid;return i.createElement("tr",{className:R.a.entryFormRow},i.createElement("td",null,i.createElement(y,{fields:t.formFields,initialValues:r,validate:t.validateForm,onFormDataChange:this.handleFormDataChange,onSubmit:this.addEntry,onSubmitSuccess:this.handleSubmitSuccess,onSubmitFail:this.handleSubmitFail},i.createElement("div",{className:R.a.formSection},i.createElement(O,{component:F,name:"categoryId",data:n})),i.createElement("div",{className:R.a.formSection},i.createElement(O,{component:"input",name:"description",type:"text",placeholder:"Description"})),i.createElement("div",{className:R.a.formSection},i.createElement(O,{component:"input",name:"value",type:"number",placeholder:"Value",handleRef:this.handleValueRefUpdate}),i.createElement("button",{type:"submit",disabled:!o},"Add")))))},t}(i.Component),C.formFields=["categoryId","description","value"],C.validateForm=function(e){var t={};return e.value||(t.value="You must provide a value"),t},_),N={addTransaction:l.a.addTransaction},V=Object(s.b)(function(e){return{defaultCategoryId:Object(p.b)(),categories:Object(p.a)(e)}},N)(P),B=n("./utils/formatAmount.js"),T=n("./components/BudgetGridRow/style.scss"),I=n.n(T),k=function(e){var t=e.transaction,n=e.categories,r=Object(B.a)(t.value),a=r.isNegative?I.a.neg:I.a.pos,o=t.id,l=t.categoryId,c=t.description,u=n[l];return i.createElement("tr",{key:o},i.createElement("td",null,i.createElement("div",{className:I.a.cellLabel},"Category"),i.createElement("div",{className:I.a.cellContent},u)),i.createElement("td",null,i.createElement("div",{className:I.a.cellLabel},"Description"),i.createElement("div",{className:I.a.cellContent},c)),i.createElement("td",{className:a},i.createElement("div",{className:I.a.cellLabel},"Amount"),i.createElement("div",{className:I.a.cellContent},r.text)))},A=n("./containers/BudgetGrid/style.scss"),z=n.n(A);var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.transactions,n=e.categories;return i.createElement("table",{className:z.a.budgetGrid},i.createElement("thead",null,i.createElement("tr",null,i.createElement("th",null,"Category"),i.createElement("th",null,"Description"),i.createElement("th",null,"Amount"))),i.createElement("tbody",null,t.map(function(e){return i.createElement(k,{key:e.id,transaction:e,categories:n})})),i.createElement("tfoot",null,i.createElement(V,null)))},t}(i.Component),L=Object(s.b)(function(e){return{transactions:Object(f.h)(e),categories:Object(p.a)(e)}})(G),W=n("./components/Balance/style.scss"),M=n.n(W),H=function(e){var t=e.title,n=e.amount,r=e.colorize,a=e.prefix,o=r&&n.isNegative?M.a.neg:M.a.pos||"";return["string"==typeof a&&i.createElement("div",{key:"prefix",className:M.a.balanceSymbol},a),i.createElement("div",{key:"item",className:M.a.balanceWrapper},i.createElement("div",{className:M.a.balanceItem},i.createElement("div",{className:M.a.balanceAmount+" "+o},n.text),i.createElement("div",{className:M.a.balanceTitle},t)))]};H.defaultProps={colorize:!0,prefix:null};var J=H,U=function(e){var t=e.children;return i.createElement("div",{className:M.a.balanceRowContainer},i.createElement("div",{className:M.a.balanceRow},t))};var X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.inflow,n=e.outflow,r=e.balance;return i.createElement(U,null,i.createElement(J,{amount:t,title:"Total Inflow"}),i.createElement(J,{amount:n,title:"Total Outflow",prefix:"-"}),i.createElement(J,{amount:r,title:"Working Balance",colorize:!1,prefix:"="}))},t}(i.Component),Y=Object(s.b)(function(e){return{balance:Object(f.a)(e),inflow:Object(f.b)(e),outflow:Object(f.c)(e)}})(X);Object(u.b)({transactions:l.b,categories:c.a});t.default=function(){return i.createElement("section",null,i.createElement(L,null),i.createElement(Y,null))}},"./containers/BudgetGrid/style.scss":function(e,t,n){e.exports={budgetGrid:"opmhI"}},"./containers/EntryFormRow/style.scss":function(e,t,n){e.exports={entryFormRow:"_3Tz1l",formSection:"_3R7ot"}}}]);